# ğŸš€ Supabase å¿«é€Ÿå‚è€ƒå¡ç‰‡

## ğŸ“‹ è®¾ç½®æ£€æŸ¥æ¸…å•

```
â–¡ 1. åœ¨ Supabase Dashboard æ‰§è¡Œ SQL è¿ç§»
â–¡ 2. åˆ›å»º .env æ–‡ä»¶å¹¶é…ç½®ç¯å¢ƒå˜é‡
â–¡ 3. é‡å¯å¼€å‘æœåŠ¡å™¨
â–¡ 4. æµ‹è¯•è¿æ¥
â–¡ 5. æ³¨å†Œ/ç™»å½•è´¦æˆ·
```

---

## ğŸ¯ æ ¸å¿ƒæ“ä½œé€ŸæŸ¥

### 1. æ‰§è¡Œ SQL è¿ç§»

**ä½ç½®ï¼š** Supabase Dashboard â†’ SQL Editor â†’ New Query

**æ–‡ä»¶ï¼š** `supabase/migrations/20251112021718_create_auth_and_sync_tables.sql`

**æ“ä½œï¼š** å¤åˆ¶å…¨éƒ¨å†…å®¹ â†’ ç²˜è´´ â†’ Run

---

### 2. ç¯å¢ƒå˜é‡é…ç½®

**æ–‡ä»¶ï¼š** `.env`ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰

```env
VITE_SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co
VITE_SUPABASE_ANON_KEY=ä½ çš„å¯†é’¥
```

**è·å–ä½ç½®ï¼š** Supabase Dashboard â†’ Settings â†’ API

---

### 3. é‡å¯æœåŠ¡å™¨

```bash
Ctrl+C  # åœæ­¢
npm run dev  # å¯åŠ¨
```

---

### 4. æµ‹è¯•è¿æ¥

**æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼š**

```javascript
quickTestSupabase()  // å¿«é€Ÿæµ‹è¯•
testSupabase()       // å®Œæ•´æµ‹è¯•
```

---

## ğŸ“Š æ•°æ®åº“è¡¨ä¸€è§ˆ

| è¡¨å | ä¸­æ–‡å | ç”¨é€” |
|------|--------|------|
| `profiles` | ç”¨æˆ·èµ„æ–™ | é‚®ç®±ã€å§“åã€å¤´åƒ |
| `video_metadata` | è§†é¢‘å…ƒæ•°æ® | åç§°ã€æ—¶é•¿ã€å¤§å° |
| `subtitles` | å­—å¹• | å­—å¹•å†…å®¹å’Œç‰‡æ®µ |
| `analyses` | åˆ†æç»“æœ | AI ç”Ÿæˆçš„æ‘˜è¦ç­‰ |
| `notes` | ç¬”è®° | ç”¨æˆ·ç¬”è®° |
| `chat_history` | èŠå¤©è®°å½• | AI å¯¹è¯å†å² |

---

## ğŸ”‘ é‡è¦é“¾æ¥

| åŠŸèƒ½ | é“¾æ¥ |
|------|------|
| Supabase Dashboard | https://supabase.com/dashboard |
| å¿«é€Ÿå¼€å§‹æ–‡æ¡£ | `QUICK_START_SUPABASE.md` |
| è¯¦ç»†æ•™ç¨‹ | `docs/supabase-setup-steps.md` |
| å®Œæ•´æ–‡æ¡£ | `SUPABASE_SETUP.md` |
| æµ‹è¯•è„šæœ¬ | `scripts/test-supabase-connection.ts` |

---

## âš¡ å¸¸ç”¨å‘½ä»¤

### å¼€å‘æœåŠ¡å™¨
```bash
npm run dev          # å¯åŠ¨
npm run build        # æ„å»º
npm run preview      # é¢„è§ˆæ„å»ºç»“æœ
```

### Git æ“ä½œ
```bash
git status           # æŸ¥çœ‹çŠ¶æ€
git add .            # æ·»åŠ æ‰€æœ‰æ›´æ”¹
git commit -m "msg"  # æäº¤
git push             # æ¨é€
```

---

## ğŸ› å¿«é€Ÿæ•…éšœæ’é™¤

### é—®é¢˜ï¼šSQL æ‰§è¡Œå¤±è´¥
```
é”™è¯¯ï¼šrelation "xxx" already exists
è§£å†³ï¼šå¿½ç•¥ï¼Œè¡¨å·²å­˜åœ¨
```

### é—®é¢˜ï¼šæ— æ³•è¿æ¥
```
æ£€æŸ¥ï¼š
1. .env æ–‡ä»¶ä½ç½®æ­£ç¡®
2. ç¯å¢ƒå˜é‡åæœ‰ VITE_ å‰ç¼€
3. å·²é‡å¯å¼€å‘æœåŠ¡å™¨
4. URL å’Œ Key æ­£ç¡®
```

### é—®é¢˜ï¼šç™»å½•åæ— ç”¨æˆ·èµ„æ–™
```
è§£å†³ï¼šåœ¨ SQL Editor æ‰§è¡Œ
SELECT * FROM pg_trigger WHERE tgname = 'on_auth_user_created';
å¦‚æœæ— ç»“æœï¼Œé‡æ–°æ‰§è¡Œè¿ç§» SQL
```

---

## ğŸ“± åº”ç”¨åŠŸèƒ½é€ŸæŸ¥

### è®¤è¯åŠŸèƒ½
- ğŸ“§ é‚®ç®±æ³¨å†Œ/ç™»å½•
- ğŸ” å¯†ç é‡ç½®
- ğŸ‘¤ ç”¨æˆ·èµ„æ–™ç®¡ç†
- ğŸšª ç™»å‡º

### æ•°æ®åŒæ­¥
- â¬†ï¸ ä¸Šä¼ åˆ°äº‘ç«¯
- â¬‡ï¸ ä»äº‘ç«¯ä¸‹è½½
- ğŸ”„ è‡ªåŠ¨åŒæ­¥
- ğŸ”’ æ•°æ®éš”ç¦»

### è§†é¢‘ç®¡ç†
- ğŸ“¹ å¯¼å…¥è§†é¢‘
- ğŸ“ æ·»åŠ å­—å¹•
- ğŸ¤– AI åˆ†æ
- ğŸ’¬ AI å¯¹è¯
- ğŸ““ ç¬”è®°

---

## ğŸ¨ ç•Œé¢ä½ç½®

### ç™»å½•æŒ‰é’®
```
åº”ç”¨å³ä¸Šè§’ â†’ [ç™»å½•] æŒ‰é’®
```

### è´¦æˆ·é¢æ¿
```
ç™»å½•å â†’ ç‚¹å‡»ç”¨æˆ·å¤´åƒ â†’ è´¦æˆ·é¢æ¿
```

### åŒæ­¥åŠŸèƒ½
```
è´¦æˆ·é¢æ¿ â†’ [åŒæ­¥åˆ°äº‘ç«¯] / [ä»äº‘ç«¯æ¢å¤]
```

### è®¾ç½®
```
ä¾§è¾¹æ åº•éƒ¨ â†’ é½¿è½®å›¾æ ‡ â†’ è®¾ç½®
```

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. é¦–æ¬¡ä½¿ç”¨
```
1. æ³¨å†Œè´¦æˆ·
2. å¯¼å…¥è§†é¢‘
3. ç”Ÿæˆåˆ†æ
4. åŒæ­¥åˆ°äº‘ç«¯
```

### 2. è·¨è®¾å¤‡ä½¿ç”¨
```
1. åœ¨æ–°è®¾å¤‡ç™»å½•
2. ä»äº‘ç«¯æ¢å¤æ•°æ®
3. ç»§ç»­ä½¿ç”¨
```

### 3. æ•°æ®å¤‡ä»½
```
å®šæœŸç‚¹å‡»"åŒæ­¥åˆ°äº‘ç«¯"
ç¡®ä¿æ•°æ®å®‰å…¨
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### æ–‡æ¡£
- ğŸš€ å¿«é€Ÿå¼€å§‹ï¼š`QUICK_START_SUPABASE.md`
- ğŸ“– è¯¦ç»†æ•™ç¨‹ï¼š`docs/supabase-setup-steps.md`
- ğŸ”§ å®Œæ•´æ–‡æ¡£ï¼š`SUPABASE_SETUP.md`

### ä»£ç 
- è®¤è¯ï¼š`services/authService.ts`
- åŒæ­¥ï¼š`services/syncService.ts`
- æµ‹è¯•ï¼š`scripts/test-supabase-connection.ts`

### å®˜æ–¹
- Supabase æ–‡æ¡£ï¼šhttps://supabase.com/docs
- Supabase Authï¼šhttps://supabase.com/docs/guides/auth

---

## ğŸ¯ ä¸‹ä¸€æ­¥

- [ ] å®Œæˆæ•°æ®åº“è®¾ç½®
- [ ] æ³¨å†Œè´¦æˆ·
- [ ] å¯¼å…¥ç¬¬ä¸€ä¸ªè§†é¢‘
- [ ] ç”Ÿæˆ AI åˆ†æ
- [ ] åŒæ­¥åˆ°äº‘ç«¯
- [ ] åœ¨å…¶ä»–è®¾å¤‡æµ‹è¯•

---

**å¿«é€Ÿå‚è€ƒå¡ç‰‡ v1.0**  
**æ›´æ–°æ—¥æœŸï¼š** 2024-11-12  
**é¡¹ç›®ï¼š** AI-Videos-Play

---

## ğŸŒŸ å¿«æ·é”®

| åŠŸèƒ½ | å¿«æ·é”® |
|------|--------|
| æ‰“å¼€æ§åˆ¶å° | F12 |
| åˆ·æ–°é¡µé¢ | Ctrl+R / Cmd+R |
| å…¨é€‰ | Ctrl+A / Cmd+A |
| å¤åˆ¶ | Ctrl+C / Cmd+C |
| ç²˜è´´ | Ctrl+V / Cmd+V |
| æ‰§è¡Œ SQL | Ctrl+Enter |

---

**ä¿å­˜æ­¤æ–‡ä»¶ä»¥ä¾¿éšæ—¶æŸ¥é˜…ï¼** ğŸ“Œ
